<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Rethinkdb::Base - Perl RethinkDB
    </title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="http://njlg.github.io/perl-rethinkdb/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <div class="logo">
          <h1><a href="http://njlg.github.io/perl-rethinkdb">Perl RethinkDB</a></h1>
          <p class="description">A Pure Perl RethinkDB Driver</p>
        </div>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <div class="row">
          <div class="sidebar">
            <nav role="complementary" data-spy="affix" data-offset-top="250" data-offset-bottom="175"><ul class="nav">
<li class="active"><a href="#rethinkdb-base">Rethinkdb::Base</a><ul>
<li><a href="#description">DESCRIPTION</a></li>
<li><a href="#functions">FUNCTIONS</a><ul>
<li><a href="#has">has</a></li>
</ul>
</li>
<li><a href="#methods">METHODS</a><ul>
<li><a href="#new">new</a></li>
<li><a href="#attr">attr</a></li>
<li><a href="#tap">tap</a></li>
</ul>
</li>
<li><a href="#debugging">DEBUGGING</a></li>
<li><a href="#copyright-and-license">COPYRIGHT AND LICENSE</a></li>
<li><a href="#see-also">SEE ALSO</a></li>
</ul>
</li>
</ul>

            </nav>
          </div>
          <article role="main" class="article">
            <section class="content"><h1 id="rethinkdb-base">Rethinkdb::Base</h1>
<pre><code class="lang-perl"><span class="keyword">package</span> Cat;
<span class="keyword">use</span> Rethinkdb::Base -base;

has <span class="string">name =&gt;</span> <span class="string">'Nyan'</span>;
has [<span class="string">qw(birds mice)</span>] =&gt; <span class="number">2</span>;

<span class="keyword">package</span> Tiger;
<span class="keyword">use</span> Rethinkdb::Base <span class="string">'Cat'</span>;

has <span class="string">friend  =&gt;</span> <span class="sub"><span class="keyword">sub</span> {</span> Cat-&gt;new };
has <span class="string">stripes =&gt;</span> <span class="number">42</span>;

<span class="keyword">package</span> main;
<span class="keyword">use</span> Rethinkdb::Base -strict;

<span class="keyword">my</span> <span class="variable">$mew</span> = Cat-&gt;new(<span class="string">name =&gt;</span> <span class="string">'Longcat'</span>);
<span class="keyword">say</span> <span class="variable">$mew</span>-&gt;mice;
<span class="keyword">say</span> <span class="variable">$mew</span>-&gt;mice(<span class="number">3</span>)-&gt;birds(<span class="number">4</span>)-&gt;mice;

<span class="keyword">my</span> <span class="variable">$rawr</span> = Tiger-&gt;new(<span class="string">stripes =&gt;</span> <span class="number">23</span>, <span class="string">mice =&gt;</span> <span class="number">0</span>);
<span class="keyword">say</span> <span class="variable">$rawr</span>-&gt;tap(<span class="sub"><span class="keyword">sub</span> {</span> <span class="variable">$_</span>-&gt;friend-&gt;name(<span class="string">'Tacgnol'</span>) })-&gt;mice;
</code></pre>
<h2 id="description"><span class="caps">DESCRIPTION</span></h2>
<p><a href="/perl-rethinkdb/rethinkdb/base">Rethinkdb::Base</a> is a simple base&nbsp;class.</p>
<pre><code class="lang-perl"><span class="comment">## Automatically enables "strict", "warnings", "utf8" and Perl 5.10 features</span>
<span class="keyword">use</span> Rethinkdb::Base -strict;
<span class="keyword">use</span> Rethinkdb::Base -base;
<span class="keyword">use</span> Rethinkdb::Base <span class="string">'SomeBaseClass'</span>;
</code></pre>
<p>All three forms save a lot of&nbsp;typing.</p>
<pre><code class="lang-perl"><span class="comment">## use Rethinkdb::Base -strict;</span>
<span class="keyword">use</span> strict;
<span class="keyword">use</span> warnings;
<span class="keyword">use</span> utf8;
<span class="keyword">use</span> feature <span class="string">':5.10'</span>;
<span class="keyword">use</span> <span class="caps">IO</span>::Handle ();

<span class="comment">## use Rethinkdb::Base -base;</span>
<span class="keyword">use</span> strict;
<span class="keyword">use</span> warnings;
<span class="keyword">use</span> utf8;
<span class="keyword">use</span> feature <span class="string">':5.10'</span>;
<span class="keyword">use</span> <span class="caps">IO</span>::Handle ();
<span class="keyword">use</span> Rethinkdb::Base;
<span class="keyword">push</span> <span class="variable">@<span class="caps">ISA</span></span>, <span class="string">'Rethinkdb::Base'</span>;
<span class="sub"><span class="keyword">sub</span> has {</span> Rethinkdb::Base::attr(__PACKAGE_<span class="number">_</span>, <span class="variable">@_</span>) }

<span class="comment">## use Rethinkdb::Base 'SomeBaseClass';</span>
<span class="keyword">use</span> strict;
<span class="keyword">use</span> warnings;
<span class="keyword">use</span> utf8;
<span class="keyword">use</span> feature <span class="string">':5.10'</span>;
<span class="keyword">use</span> <span class="caps">IO</span>::Handle ();
<span class="keyword">require</span> SomeBaseClass;
<span class="keyword">push</span> <span class="variable">@<span class="caps">ISA</span></span>, <span class="string">'SomeBaseClass'</span>;
<span class="keyword">use</span> Rethinkdb::Base;
<span class="sub"><span class="keyword">sub</span> has {</span> Rethinkdb::Base::attr(__PACKAGE_<span class="number">_</span>, <span class="variable">@_</span>) }
</code></pre>
<h2 id="functions"><span class="caps">FUNCTIONS</span></h2>
<p><a href="/perl-rethinkdb/rethinkdb/base">Rethinkdb::Base</a> exports the following functions if imported with the <code>-base</code>
flag or a base&nbsp;class.</p>
<h3 id="has">has</h3>
<pre><code class="lang-perl">has <span class="string">'name'</span>;
has [<span class="string">qw(name1 name2 name3)</span>];
has <span class="string">name =&gt;</span> <span class="string">'foo'</span>;
has <span class="string">name =&gt;</span> <span class="sub"><span class="keyword">sub</span> {</span>...};
has [<span class="string">qw(name1 name2 name3)</span>] =&gt; <span class="string">'foo'</span>;
has [<span class="string">qw(name1 name2 name3)</span>] =&gt; <span class="sub"><span class="keyword">sub</span> {</span>...};
</code></pre>
<p>Create attributes for hash-based objects, just like the <code>attr</code> method.</p>
<h2 id="methods"><span class="caps">METHODS</span></h2>
<p><a href="/perl-rethinkdb/rethinkdb/base">Rethinkdb::Base</a> implements the following&nbsp;methods.</p>
<h3 id="new">new</h3>
<pre><code class="lang-perl"><span class="keyword">my</span> <span class="variable">$object</span> = BaseSubClass-&gt;new;
<span class="keyword">my</span> <span class="variable">$object</span> = BaseSubClass-&gt;new(<span class="string">name =&gt;</span> <span class="string">'value'</span>);
<span class="keyword">my</span> <span class="variable">$object</span> = BaseSubClass-&gt;new({<span class="string">name =&gt;</span> <span class="string">'value'</span>});
</code></pre>
<p>This base class provides a basic constructor for hash-based objects. You can
pass it either a hash or a hash reference with attribute&nbsp;values.</p>
<h3 id="attr">attr</h3>
<pre><code class="lang-perl"><span class="variable">$object</span>-&gt;attr(<span class="string">'name'</span>);
BaseSubClass-&gt;attr(<span class="string">'name'</span>);
BaseSubClass-&gt;attr([<span class="string">qw(name1 name2 name3)</span>]);
BaseSubClass-&gt;attr(<span class="string">name =&gt;</span> <span class="string">'foo'</span>);
BaseSubClass-&gt;attr(<span class="string">name =&gt;</span> <span class="sub"><span class="keyword">sub</span> {</span>...});
BaseSubClass-&gt;attr([<span class="string">qw(name1 name2 name3)</span>] =&gt; <span class="string">'foo'</span>);
BaseSubClass-&gt;attr([<span class="string">qw(name1 name2 name3)</span>] =&gt; <span class="sub"><span class="keyword">sub</span> {</span>...});
</code></pre>
<p>Create attribute accessor for hash-based objects, an array reference can be
used to create more than one at a time. Pass an optional second argument to
set a default value, it should be a constant or a callback. The callback will
be excuted at accessor read time if there’s no set value. Accessors can be
chained, that means they return their invocant when they are called with an&nbsp;argument.</p>
<h3 id="tap">tap</h3>
<pre><code class="lang-perl"><span class="variable">$object</span> = <span class="variable">$object</span>-&gt;tap(<span class="sub"><span class="keyword">sub</span> {</span>...});
</code></pre>
<p>K combinator, tap into a method chain to perform operations on an object
within the&nbsp;chain.</p>
<h2 id="debugging"><span class="caps">DEBUGGING</span></h2>
<p>You can set the RDB_BASE_DEBUG environment variable to get some advanced
diagnostics information printed to <code>STDERR</code>.</p>
<pre><code class="lang-perl">RDB_BASE_DEBUG=<span class="number">1</span>
</code></pre>
<h2 id="copyright-and-license"><span class="caps">COPYRIGHT</span> AND&nbsp;LICENSE</h2>
<p>This package was taken from the Mojolicious&nbsp;project.</p>
<p>Copyright &copy; 2008-2013, Sebastian&nbsp;Riedel.</p>
<h2 id="see-also"><span class="caps">SEE</span>&nbsp;ALSO</h2>
<p><a href="http://metacpan.org/pod/Mojo::Base">Mojo::Base</a>, <a href="http://metacpan.org/pod/Mojolicious">Mojolicious</a>, <a href="http://mojolicio.us">http://mojolicio.us</a>.</p>
</section>
          </article>
        </div>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/perl-rethinkdb/">« Back</a><a href="#content" id="top">↑ Top</a></div>
        <section class="about"><p>Unless otherwise noted: Copyright &copy; 2013-2014, <a href="http://njlg.info">Nathan Levin-Greenhaw</a></p>
<p>A lot of the above documentation herein was taken from the
<a href="http://rethinkdb.com/api/">official documentation</a>.
Copyright &copy; 2010-2014 RethinkDB.</p>
<p>This program is free software, you can redistribute it and/or modify it under
the terms of the Artistic License version 2.0.</p>

        </section>
        <section class="copy">
          <p>
            &copy; 2015
            <a href="http://njlg.info">Nathan Levin-Greenhaw</a>
            &mdash; powered by
            <a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://njlg.github.io/perl-rethinkdb/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/shortcuts/sticky-elements/waypoints-sticky.min.js"></script>
<script src="http://njlg.github.io/perl-rethinkdb/js/p.js"></script>